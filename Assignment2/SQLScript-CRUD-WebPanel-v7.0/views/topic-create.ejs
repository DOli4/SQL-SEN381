<form id="f" onsubmit="return false;">
  <h2>Create Topic</h2>
  <input name="title" placeholder="Title" required />
  <input name="moduleId" type="number" placeholder="Module ID (e.g., 1)" required />
  <textarea name="description" placeholder="Describe the issue..." ></textarea>
  <button onclick="save()">Create</button>
  <p id="msg"></p>
</form>
<script>
async function save(){
  const body = {
    title: f.title.value,
    moduleId: Number(f.moduleId.value),
    description: f.description.value
  };
  const res = await fetch('/api/topics', {
    method: 'POST',
    headers:{'Content-Type':'application/json'},
    credentials: 'include'
  , body: JSON.stringify(body) });
  const data = await res.json();
  if(!res.ok){ msg.textContent = data.error || 'Failed'; return; }
  window.location = '/topics';
}
</script>
